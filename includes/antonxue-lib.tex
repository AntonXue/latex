% Includes
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{letltxmacro}
\usepackage{listings}

% Spacing
\let\uspace\undefined
\newcommand{\uspace}{\ensuremath{\ }}

% Numbers
\let\N\undefined
\newcommand{\N}{\ensuremath{\mathbb{N}}}

\let\Z\undefined
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}

\let\Zz\undefined
\newcommand{\Zz}{\ensuremath{\mathbb{Z}_{\geq 0}}}

\let\Zp\undefined
\newcommand{\Zp}{\ensuremath{\mathbb{Z}_{+}}}

\let\Q\undefined
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}

\let\R\undefined
\newcommand{\R}{\ensuremath{\mathbb{R}}}

\let\Rz\undefined
\newcommand{\Rz}{\ensuremath{\mathbb{R}_{\geq 0}}}

\let\Rp\undefined
\newcommand{\Rp}{\ensuremath{\mathbb{R}_{+}}}

\let\C\undefined
\newcommand{\C}{\ensuremath{\mathbb{C}}}

% Grouping
\let\parens\undefined
\newcommand{\parens}[1]{\ensuremath{\left(#1\right)}}

\let\brackets\undefined
\newcommand{\brackets}[1]{\ensuremath{\left[#1\right]}}

\let\braces\undefined
\newcommand{\braces}[1]{\ensuremath{\left\{#1\right\}}}

\let\angles\undefined
\newcommand{\angles}[1]{\ensuremath{\left\langle#1\right\rangle}}

\let\ceil\undefined
\newcommand{\ceil}[1]{\ensuremath{\left\lceil#1\right\rceil}}

\let\floor\undefined
\newcommand{\floor}[1]{\ensuremath{\left\lfloor#1\right\rfloor}}

% Sets and Function Spaces
\let\setcomp\undefined
\newcommand{\setcomp}[2]{\ensuremath{\left\{#1 \st #2\right\}}}

\let\type\undefined
\newcommand{\type}[3]{\ensuremath{#1 \colon #2 \to #3}}

\let\powset\undefined
\newcommand{\powset}{\ensuremath{\mathcal{P}}}

\let\mod\undefined
\newcommand{\mod}{\ensuremath{\uspace\mathrm{mod}\uspace}}

\let\ker\undefined
\newcommand{\ker}{\ensuremath{\mathrm{ker}}}

\let\dom\undefined
\newcommand{\dom}{\ensuremath{\mathrm{dom}}}

\let\ran\undefined
\newcommand{\ran}{\ensuremath{\mathrm{ran}}}

\let\imag\undefined
\newcommand{\imag}{\ensuremath{\mathrm{imag}}}

\let\coker\undefined
\newcommand{\coker}{\ensuremath{\mathrm{coker}}}

\let\codim\undefined
\newcommand{\codim}{\ensuremath{\mathrm{codim}}}

% Complex Numbers
\let\Re\undefined
\newcommand{\Re}{\ensuremath{\mathrm{Re}}}

\let\Im\undefined
\newcommand{\Im}{\ensuremath{\mathrm{Im}}}

% Probability
\let\Pr\undefined
\newcommand{\Pr}{\ensuremath{\mathrm{Pr}}}

\let\E\undefined
\newcommand{\E}{\ensuremath{\mathrm{E}}}

\let\Var\undefined
\newcommand{\Var}{\ensuremath{\mathrm{Var}}}

\let\Cov\undefined
\newcommand{\Cov}{\ensuremath{\mathrm{Cov}}}

% Linear Algebra
\let\abs\undefined
\newcommand{\abs}[1]{\ensuremath{\left\lvert#1\right\rvert}}

\let\norm\undefined
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}

\let\inner\undefined
\newcommand{\inner}[2]{\ensuremath{\left\langle#1, #2\right\rangle}}

\let\adj\undefined
\newcommand{\adj}[1]{\ensuremath{{#1}^{\ast}}}

\let\transp\undefined
\newcommand{\transp}[1]{\ensuremath{{#1}^{T}}}

\let\inv\undefined
\newcommand{\inv}[1]{\ensuremath{{#1}^{-1}}}

% Computational Complexity
\let\class\undefined % Complexity class
\newcommand{\class}[1]{\ensuremath{\mathbf{#1}}}

\let\prob\undefined % Complexity problem
\newcommand{\prob}[1]{\ensuremath{\text{#1}}}

% Theorem environment
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}

\theoremstyle{plain}
\newtheorem{lemma}{Lemma}

\theoremstyle{plain}
\newtheorem{claim}{Claim}

\theoremstyle{plain}
\newtheorem{fact}{Fact}

\theoremstyle{remark}
\newtheorem{remark}{Remark}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\theoremstyle{definition}
\newtheorem{example}{Example}

% Code environment
\lstdefinestyle{plainsty}{
  basicstyle=\small\ttfamily,
  language=C,
  xleftmargin=\parindent,
  aboveskip=1em,
  belowskip=1em,
  showspaces=false,
  showstringspaces=false,
  keywordstyle = {},
}

\lstnewenvironment{pcode}{\lstset{style=plainsty}}{}

\let\pinl\undefined
\newcommand{\pinl}{\lstinline[style=plainsty]}

\newcommand*{\SavedLstInline}{} % Allows plain code usage in math mode.
\LetLtxMacro\SavedLstInline\pinl
\DeclareRobustCommand*{\pinl}{%
  \ifmmode
    \let\SavedBGroup\bgroup
    \def\bgroup{%
      \let\bgroup\SavedBGroup
      \hbox\bgroup
    }%
  \fi
\SavedLstInline}

\let\ttcode\undefined
\newcommand{\ttcode}[1]{\small{\texttt{#1}}}

% Abbreviations
\let\st\undefined
\newcommand{\st}{\ensuremath{\uspace\colon}}

\let\ow\undefined
\newcommand{\ow}{\ensuremath{\text{otherwise}}}

